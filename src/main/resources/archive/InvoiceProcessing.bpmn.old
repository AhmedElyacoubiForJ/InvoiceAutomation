<?xml version="1.0" encoding="UTF-8"?>
<bpmn2:definitions xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                   xmlns:bpmn2="http://www.omg.org/spec/BPMN/20100524/MODEL"
                   xsi:schemaLocation="http://www.omg.org/spec/BPMN/20100524/MODEL BPMN20.xsd">
    <!-- Process Definition with TTL set -->
    <bpmn2:process id="InvoiceProcessing" name="Invoice Processing" isExecutable="true" historyTimeToLive="1">
        
        <!-- Start Event -->
        <bpmn2:startEvent id="StartEvent_1" name="Start Processing Invoice">
            <bpmn2:outgoing>Flow_1</bpmn2:outgoing>
        </bpmn2:startEvent>

        <!-- Task: Extract Invoice Data -->
        <bpmn2:task id="Task_1" name="Extract Invoice Data">
            <bpmn2:incoming>Flow_1</bpmn2:incoming>
            <bpmn2:outgoing>Flow_2</bpmn2:outgoing>
        </bpmn2:task>

        <!-- Service Task: Process Invoice (delegate expression used) -->
        <bpmn2:serviceTask id="ServiceTask_1" name="Process Invoice" camunda:delegateExpression="${invoiceProcessingDelegate}">
            <bpmn2:incoming>Flow_2</bpmn2:incoming>
            <bpmn2:outgoing>Flow_3</bpmn2:outgoing>
        </bpmn2:serviceTask>

        <!-- End Event -->
        <bpmn2:endEvent id="EndEvent_1" name="End Processing">
            <bpmn2:incoming>Flow_3</bpmn2:incoming>
        </bpmn2:endEvent>

        <!-- Sequence Flows (without conditionExpression) -->
        <bpmn2:sequenceFlow id="Flow_1" sourceRef="StartEvent_1" targetRef="Task_1" />
        <bpmn2:sequenceFlow id="Flow_2" sourceRef="Task_1" targetRef="ServiceTask_1" />
        <bpmn2:sequenceFlow id="Flow_3" sourceRef="ServiceTask_1" targetRef="EndEvent_1" />
    </bpmn2:process>
</bpmn2:definitions>
